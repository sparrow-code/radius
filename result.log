===============================================
FreeRADIUS Server Installation
===============================================
[2025-04-13 03:10:37] Updating system packages...
[2025-04-13 03:10:42] Installing FreeRADIUS and related packages...
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
postgresql is already the newest version (14+238).
postgresql-client is already the newest version (14+238).
Suggested packages:
  freeradius-krb5 freeradius-ldap freeradius-mysql freeradius-python3 snmp
The following NEW packages will be installed:
  freeradius freeradius-postgresql freeradius-utils
0 upgraded, 3 newly installed, 0 to remove and 284 not upgraded.
Need to get 0 B/762 kB of archives.
After this operation, 2,839 kB of additional disk space will be used.
Selecting previously unselected package freeradius.
(Reading database ... 127072 files and directories currently installed.)
Preparing to unpack .../freeradius_3.0.26~dfsg~git20220223.1.00ed0241fa-0ubuntu3.4_amd64.deb ...
Unpacking freeradius (3.0.26~dfsg~git20220223.1.00ed0241fa-0ubuntu3.4) ...
Selecting previously unselected package freeradius-postgresql.
Preparing to unpack .../freeradius-postgresql_3.0.26~dfsg~git20220223.1.00ed0241fa-0ubuntu3.4_amd64.deb ...
Unpacking freeradius-postgresql (3.0.26~dfsg~git20220223.1.00ed0241fa-0ubuntu3.4) ...
Selecting previously unselected package freeradius-utils.
Preparing to unpack .../freeradius-utils_3.0.26~dfsg~git20220223.1.00ed0241fa-0ubuntu3.4_amd64.deb ...
Unpacking freeradius-utils (3.0.26~dfsg~git20220223.1.00ed0241fa-0ubuntu3.4) ...
Setting up freeradius-utils (3.0.26~dfsg~git20220223.1.00ed0241fa-0ubuntu3.4) ...
Setting up freeradius (3.0.26~dfsg~git20220223.1.00ed0241fa-0ubuntu3.4) ...
update-rc.d: warning: start and stop actions are no longer supported; falling back to defaults
chown: cannot access '/etc/freeradius': No such file or directory
dpkg: error processing package freeradius (--configure):
 installed freeradius package post-installation script subprocess returned error exit status 1
dpkg: dependency problems prevent configuration of freeradius-postgresql:
 freeradius-postgresql depends on freeradius (= 3.0.26~dfsg~git20220223.1.00ed0241fa-0ubuntu3.4); however:
  Package freeradius is not configured yet.

dpkg: error processing package freeradius-postgresql (--configure):
 dependency problems - leaving unconfigured
No apport report written because the error message indicates its a followup error from a previous failure.
                                                                                                          Errors were encountered while processing:
 freeradius
 freeradius-postgresql
needrestart is being skipped since dpkg has failed
E: Sub-process /usr/bin/dpkg returned an error code (1)
[2025-04-13 03:11:00] Creating backup of original configuration...
cp: cannot stat '/etc/freeradius/3.0/*': No such file or directory
[2025-04-13 03:11:01] Creating directory structure...
[2025-04-13 03:11:01] Setting file permissions...
chmod: cannot access '/etc/freeradius/3.0/clients.conf': No such file or directory
[2025-04-13 03:11:01] Setting up PostgreSQL database for FreeRADIUS...
Synchronizing state of postgresql.service with SysV service script with /lib/systemd/systemd-sysv-install.
Executing: /lib/systemd/systemd-sysv-install enable postgresql
[2025-04-13 03:11:03] PostgreSQL user 'radius' already exists.
[2025-04-13 03:11:03] PostgreSQL database 'radius' already exists.
[2025-04-13 03:11:03] Checking if database schema exists...
[2025-04-13 03:11:03] Importing FreeRADIUS schema to PostgreSQL...
[2025-04-13 03:11:03] ERROR: Schema file not found. Creating empty tables instead.
CREATE TABLE
[2025-04-13 03:11:03] Configuring PostgreSQL authentication (pg_hba.conf)...
[2025-04-13 03:11:03] PostgreSQL hba configuration file: /etc/postgresql/14/main/pg_hba.conf
[2025-04-13 03:11:03] Granting necessary permissions to radius user...
GRANT
GRANT
GRANT
GRANT
[2025-04-13 03:11:04] Configuring FreeRADIUS to use PostgreSQL...
./install_freeradius.sh: line 204: /etc/freeradius/3.0/mods-available/sql: No such file or directory
[2025-04-13 03:11:04] Enabling SQL module...
./install_freeradius.sh: line 254: cd: /etc/freeradius/3.0/mods-enabled: No such file or directory
[2025-04-13 03:11:04] Updating site configuration to use SQL throughout authentication process...
grep: /etc/freeradius/3.0/sites-available/default: No such file or directory
sed: can't read /etc/freeradius/3.0/sites-available/default: No such file or directory
grep: /etc/freeradius/3.0/sites-available/default: No such file or directory
grep: /etc/freeradius/3.0/sites-available/default: No such file or directory
sed: can't read /etc/freeradius/3.0/sites-available/default: No such file or directory
grep: /etc/freeradius/3.0/sites-available/default: No such file or directory
grep: /etc/freeradius/3.0/sites-available/default: No such file or directory
sed: can't read /etc/freeradius/3.0/sites-available/default: No such file or directory
grep: /etc/freeradius/3.0/sites-available/default: No such file or directory
grep: /etc/freeradius/3.0/sites-available/default: No such file or directory
sed: can't read /etc/freeradius/3.0/sites-available/default: No such file or directory
grep: /etc/freeradius/3.0/sites-available/inner-tunnel: No such file or directory
sed: can't read /etc/freeradius/3.0/sites-available/inner-tunnel: No such file or directory
grep: /etc/freeradius/3.0/sites-available/inner-tunnel: No such file or directory
grep: /etc/freeradius/3.0/sites-available/inner-tunnel: No such file or directory
sed: can't read /etc/freeradius/3.0/sites-available/inner-tunnel: No such file or directory
grep: /etc/freeradius/3.0/sites-available/inner-tunnel: No such file or directory
grep: /etc/freeradius/3.0/sites-available/inner-tunnel: No such file or directory
sed: can't read /etc/freeradius/3.0/sites-available/inner-tunnel: No such file or directory
grep: /etc/freeradius/3.0/sites-available/inner-tunnel: No such file or directory
grep: /etc/freeradius/3.0/sites-available/inner-tunnel: No such file or directory
sed: can't read /etc/freeradius/3.0/sites-available/inner-tunnel: No such file or directory
[2025-04-13 03:11:04] Configuring default RADIUS clients...
[2025-04-13 03:11:04] Creating a test user...
[2025-04-13 03:11:04] Optimizing RADIUS configuration for your hardware...
sed: can't read /etc/freeradius/3.0/radiusd.conf: No such file or directory
sed: can't read /etc/freeradius/3.0/radiusd.conf: No such file or directory
sed: can't read /etc/freeradius/3.0/radiusd.conf: No such file or directory
[2025-04-13 03:11:04] Updating log settings...
[2025-04-13 03:11:04] Restarting FreeRADIUS service...
Job for freeradius.service failed because the control process exited with error code.
See "systemctl status freeradius.service" and "journalctl -xeu freeradius.service" for details.
[2025-04-13 03:11:04] ERROR: FreeRADIUS service failed to start. Check /var/log/syslog for errors.
● freeradius.service - FreeRADIUS multi-protocol policy server
     Loaded: loaded (/lib/systemd/system/freeradius.service; disabled; vendor preset: enabled)
     Active: activating (auto-restart) (Result: exit-code) since Sun 2025-04-13 03:11:04 IST; 43ms ago
       Docs: man:radiusd(8)
             man:radiusd.conf(5)
             http://wiki.freeradius.org/
             http://networkradius.com/doc/
    Process: 9513 ExecStartPre=/usr/sbin/freeradius $FREERADIUS_OPTIONS -Cx -lstdout (code=exited, status=1/FAILURE)
        CPU: 197ms
sdworlld@0qKKkjgGSCulmW8XMW2t:~/isp/radius$ sudo systemctl status freeradius
● freeradius.service - FreeRADIUS multi-protocol policy server
     Loaded: loaded (/lib/systemd/system/freeradius.service; disabled; vendor preset: enabled)
     Active: activating (auto-restart) (Result: exit-code) since Sun 2025-04-13 03:11:36 IST; 3s ago
       Docs: man:radiusd(8)
             man:radiusd.conf(5)
             http://wiki.freeradius.org/
             http://networkradius.com/doc/
    Process: 9537 ExecStartPre=/usr/sbin/freeradius $FREERADIUS_OPTIONS -Cx -lstdout (code=exited, status=1/FAILURE)
        CPU: 195ms
sdworlld@0qKKkjgGSCulmW8XMW2t:~/isp/radius$ sudo radtest testuser password localhost 0 testing123
Sent Access-Request Id 10 from 0.0.0.0:43989 to 127.0.0.1:1812 length 78
        User-Name = "testuser"
        User-Password = "password"
        NAS-IP-Address = 127.0.0.1
        NAS-Port = 0
        Cleartext-Password = "password"
Sent Access-Request Id 10 from 0.0.0.0:43989 to 127.0.0.1:1812 length 78
        User-Name = "testuser"
        User-Password = "password"
        NAS-IP-Address = 127.0.0.1
        NAS-Port = 0
        Cleartext-Password = "password"
Sent Access-Request Id 10 from 0.0.0.0:43989 to 127.0.0.1:1812 length 78
        User-Name = "testuser"
        User-Password = "password"
        NAS-IP-Address = 127.0.0.1
        NAS-Port = 0
        Cleartext-Password = "password"









sdworlld@0qKKkjgGSCulmW8XMW2t:~/isp/radius$ sudo journalctl -u freeradius
Apr 13 03:04:49 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com systemd[1]: Starting FreeRADIUS multi-protocol policy server...
Apr 13 03:04:49 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: FreeRADIUS Version 3.0.26
Apr 13 03:04:49 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: Copyright (C) 1999-2021 The FreeRADIUS server project and contributors
Apr 13 03:04:49 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
Apr 13 03:04:49 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: PARTICULAR PURPOSE
Apr 13 03:04:49 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: You may redistribute copies of FreeRADIUS under the terms of the
Apr 13 03:04:49 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: GNU General Public License
Apr 13 03:04:49 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: For more information about these matters, see the file named COPYRIGHT
Apr 13 03:04:49 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: Starting - reading configuration files ...
Apr 13 03:04:49 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: Debug state unknown (cap_sys_ptrace capability not set)
Apr 13 03:04:49 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: Creating attribute Unix-Group
Apr 13 03:04:49 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: rlm_detail (auth_log): 'User-Password' suppressed, will not appear in detail >
Apr 13 03:04:49 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: rlm_cache (cache_eap): Driver rlm_cache_rbtree (module rlm_cache_rbtree) load>
Apr 13 03:04:49 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: rlm_mschap (mschap): using internal authentication
Apr 13 03:04:50 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: tls: Using cached TLS configuration from previous invocation
Apr 13 03:04:50 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: tls: Using cached TLS configuration from previous invocation
Apr 13 03:04:50 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: Compiling Auth-Type PAP for attr Auth-Type
Apr 13 03:04:50 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: Compiling Auth-Type CHAP for attr Auth-Type
Apr 13 03:04:50 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: Compiling Auth-Type MS-CHAP for attr Auth-Type
Apr 13 03:04:50 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: Ignoring "sql" (see raddb/mods-available/README.rst)
Apr 13 03:04:50 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: Ignoring "ldap" (see raddb/mods-available/README.rst)
Apr 13 03:04:50 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]:  # Skipping contents of 'if' as it is always 'false' -- /etc/freeradius/3.0/s>
Apr 13 03:04:50 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: Compiling Post-Auth-Type REJECT for attr Post-Auth-Type
Apr 13 03:04:50 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: Compiling Auth-Type PAP for attr Auth-Type
Apr 13 03:04:50 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: Compiling Auth-Type CHAP for attr Auth-Type
Apr 13 03:04:50 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: Compiling Auth-Type MS-CHAP for attr Auth-Type
Apr 13 03:04:50 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: Compiling Autz-Type New-TLS-Connection for attr Autz-Type
Apr 13 03:04:50 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: Compiling Post-Auth-Type REJECT for attr Post-Auth-Type
Apr 13 03:04:50 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: Compiling Post-Auth-Type Challenge for attr Post-Auth-Type
Apr 13 03:04:50 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: Compiling Post-Auth-Type Client-Lost for attr Post-Auth-Type
Apr 13 03:04:50 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: radiusd: #### Skipping IP addresses and Ports ####
Apr 13 03:04:50 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com freeradius[6871]: Configuration appears to be OK
Apr 13 03:04:50 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com systemd[1]: Started FreeRADIUS multi-protocol policy server.
Apr 13 03:05:00 0qKKkjgGSCulmW8XMW2t.xenax-cloud.com systemd[1]: Reloading FreeRADIUS multi-protocol policy server...